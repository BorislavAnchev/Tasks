<html lang="en">
    <head>
      <title>AJAX</title>
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <link rel="stylesheet" type="text/css" href="./zad2.css">
    </head>
    <body>
      <div class="bg"></div>
      
      <div id='demo'>
        <button id='change-content-button' type="button" onclick="loadDoc()">Change Content</button><br>
        The IBANs are: <br>
        <p id="content">Show resource content.</p>
      </div>
     
      <script>
        const loadDoc = () => {
          const xhttp = new XMLHttpRequest();;
          xhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
              const responseObject = JSON.parse(this.response);
              console.log(responseObject);
              console.log('Type: ', typeof responseObject);
              document.getElementById("content").innerHTML = responseObject.map(element => element.iban + '<br>');
            }
          };
          xhttp.open("GET", "http://localhost:3001/accounts", true);
          xhttp.send();
        }
      </script>
    </body>
</html> 